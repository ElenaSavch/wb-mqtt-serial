{
    "device_type": "with subdevice",
    "device": {
        "name": "with subdevice",
        "id": "with subdevice",
        "channels": [
            {
                "name": "Temperature",
                "reg_type": "input",
                "format": "s32",
                "address": "0x0504"
            },
            {
                "name": "Sub",
                "device_type": "subdevice1",
                "shift": 100
            },
            {
                "name": "Sub2",
                "oneOf": ["subdevice1", "subdevice2" ],
                "shift": 200,
                "stride": 1
            }
        ],
        "subdevices": [
            {
                "device_type": "subdevice1",
                "device": {
                    "setup": [
                        {
                            "title": "s1",
                            "address": 20000
                        },
                        {
                            "title": "s2",
                            "address": 9992,
                            "value": "0xfff2"
                        }
                    ],
                    "channels": [
                        {
                            "name": "c1",
                            "reg_type": "input",
                            "format": "s32",
                            "address": "0x0501"
                        },
                        {
                            "name": "c2",
                            "device_type": "subdevice2",
                            "shift": 200
                        },
                        {
                            "name": "c3",
                            "device_type": "subdevice2",
                            "shift": 300,
                            "stride": 2
                        }
                    ]
                }
            },
            {
                "device_type": "subdevice2",
                "device": {
                    "setup": [
                        {
                            "title": "s21",
                            "address": 20000,
                            "value": "0xfff2"
                        },
                        {
                            "title": "s22",
                            "address": 9992
                        }
                    ],
                    "channels": [
                        {
                            "name": "c12",
                            "reg_type": "input",
                            "format": "s32",
                            "address": "0x0502"
                        },
                        {
                            "name": "c22",
                            "reg_type": "input",
                            "format": "s32",
                            "address": "0x0506"
                        }
                    ]
                }
            }
        ]
    }
}
