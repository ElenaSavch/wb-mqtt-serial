{
  "device_type": "WB-MAP12H",
  "device": {
    "name": "WB-MAP12H",
    "id": "wb-map12h",
    "max_read_registers": 60,
    "response_timeout_ms": 1,
    "frame_timeout_ms": 15,
    "channels": [
      {
        "name": "L1",
        "device_type": "phase"
      },
      {
        "name": "L2",
        "device_type": "phase",
        "stride": 1
      },
      {
        "name": "L3",
        "device_type": "phase",
        "stride": 2
      },
      {
        "name": "Frequency",
        "reg_type": "input",
        "address": "0x10f8",
        "type": "value",
        "format": "u16",
        "scale": 0.01,
        "round_to": 0.01
      },
      {
        "name": "Ch 1 L1",
        "device_type": "channel phase"
      },
      {
        "name": "Ch 1 L2",
        "device_type": "channel phase",
        "stride": 1
      },
      {
        "name": "Ch 1 L3",
        "device_type": "channel phase",
        "stride": 2
      },
      {
        "name": "Ch 1 Total",
        "device_type": "channel total"
      },
      {
        "name": "Ch 2 L1",
        "device_type": "channel phase",
        "shift": "0x1000"
      },
      {
        "name": "Ch 2 L2",
        "device_type": "channel phase",
        "stride": 1,
        "shift": "0x1000"
      },
      {
        "name": "Ch 2 L3",
        "device_type": "channel phase",
        "stride": 2,
        "shift": "0x1000"
      },
      {
        "name": "Ch 2 Total",
        "device_type": "channel total",
        "shift": "0x1000"
      },
      {
        "name": "Ch 3 L1",
        "device_type": "channel phase",
        "shift": "0x2000"
      },
      {
        "name": "Ch 3 L2",
        "device_type": "channel phase",
        "stride": 1,
        "shift": "0x2000"
      },
      {
        "name": "Ch 3 L3",
        "device_type": "channel phase",
        "stride": 2,
        "shift": "0x2000"
      },
      {
        "name": "Ch 3 Total",
        "device_type": "channel total",
        "shift": "0x2000"
      },
      {
        "name": "Ch 4 L1",
        "device_type": "channel phase",
        "shift": "0x3000"
      },
      {
        "name": "Ch 4 L2",
        "device_type": "channel phase",
        "stride": 1,
        "shift": "0x3000"
      },
      {
        "name": "Ch 4 L3",
        "device_type": "channel phase",
        "stride": 2,
        "shift": "0x3000"
      },
      {
        "name": "Ch 4 Total",
        "device_type": "channel total",
        "shift": "0x3000"
      },
      {
        "name": "Uptime",
        "type": "input",
        "address": 104,
        "format": "u32",
        "enabled": false
      },
      {
        "name": "Supply voltage",
        "reg_type": "input",
        "address": 121,
        "scale": 0.001,
        "type": "voltage",
        "enabled": false
      }
    ],
    "subdevices": [
      {
        "device_type": "phase",
        "device": {
          "channels": [
            {
              "name": "Urms",
              "reg_type": "input",
              "address": "0x10d9",
              "type": "voltage",
              "format": "u16",
              "scale": 0.01,
              "round_to": 0.01
            },
            {
              "name": "THD U",
              "reg_type": "input",
              "address": "0x1703",
              "type": "value",
              "format": "u16",
              "scale": 0.00610352,
              "round_to": 0.01
            },
            {
              "name": "THDN U",
              "reg_type": "input",
              "address": "0x10f1",
              "type": "value",
              "format": "u16",
              "scale": 0.01,
              "round_to": 0.01
            },
            {
              "name": "Ufund",
              "reg_type": "input",
              "address": "0x1711",
              "type": "value",
              "format": "u16",
              "scale": 0.032656,
              "round_to": 0.01
            },
            {
              "name": "Voltage angle",
              "reg_type": "input",
              "address": "0x10fd",
              "type": "value",
              "format": "s16",
              "scale": 0.1,
              "round_to": 0.01
            }
          ]
        }
      },
      {
        "device_type": "channel phase",
        "device": {
          "channels": [
            {
              "name": "Irms",
              "reg_type": "input",
              "address": "0x10dd",
              "type": "value",
              "format": "u16",
              "scale": 0.001,
              "round_to": 0.01
            },
            {
              "name": "THD I",
              "reg_type": "input",
              "address": "0x1700",
              "type": "value",
              "format": "u16",
              "scale": 0.00610352,
              "round_to": 0.01
            },
            {
              "name": "THDN I",
              "reg_type": "input",
              "address": "0x10f5",
              "type": "value",
              "format": "u16",
              "scale": 0.01,
              "round_to": 0.01
            },
            {
              "name": "Ifund",
              "reg_type": "input",
              "address": "0x1710",
              "type": "value",
              "format": "u16",
              "scale": 0.0032656,
              "round_to": 0.01
            },
            {
              "name": "P",
              "reg_type": "input",
              "address": "0x1302",
              "type": "power",
              "format": "s32",
              "scale": 1.52588e-05,
              "round_to": 0.01
            },
            {
              "name": "Q",
              "reg_type": "input",
              "address": "0x130a",
              "type": "value",
              "format": "s32",
              "scale": 1.52588e-05,
              "round_to": 0.01
            },
            {
              "name": "S",
              "reg_type": "input",
              "address": "0x1312",
              "type": "value",
              "format": "s32",
              "scale": 1.52588e-05,
              "round_to": 0.01
            },
            {
              "name": "N",
              "reg_type": "input",
              "address": "0x1582",
              "type": "value",
              "format": "s32",
              "scale": 1.52588e-05,
              "round_to": 0.01
            },
            {
              "name": "PF",
              "reg_type": "input",
              "address": "0x10bd",
              "type": "value",
              "format": "s16",
              "scale": 0.001,
              "round_to": 0.01
            },
            {
              "name": "Pfund",
              "reg_type": "input",
              "address": "0x1402",
              "type": "value",
              "format": "s32",
              "scale": 1.52588e-05,
              "round_to": 0.01
            },
            {
              "name": "Pharm",
              "reg_type": "input",
              "address": "0x140a",
              "type": "value",
              "format": "s32",
              "scale": 1.52588e-05,
              "round_to": 0.01
            },
            {
              "name": "AP energy",
              "reg_type": "input",
              "address": "0x1204",
              "type": "power_consumption",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "AN energy",
              "reg_type": "input",
              "address": "0x1214",
              "type": "power_consumption",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "RP energy",
              "reg_type": "input",
              "address": "0x1224",
              "type": "value",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "RN energy",
              "reg_type": "input",
              "address": "0x1234",
              "type": "value",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "S energy",
              "reg_type": "input",
              "address": "0x1244",
              "type": "value",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "NP energy",
              "reg_type": "input",
              "address": "0x1506",
              "type": "value",
              "format": "u32",
              "scale": 0.0182044,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "NN energy",
              "reg_type": "input",
              "address": "0x1516",
              "type": "value",
              "format": "u32",
              "scale": 0.0182044,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "Phase angle",
              "reg_type": "input",
              "address": "0x10f9",
              "type": "value",
              "format": "s16",
              "scale": 0.1,
              "round_to": 0.01
            }
          ]
        }
      },
      {
        "device_type": "channel total",
        "device": {
          "channels": [
            {
              "name": "P",
              "reg_type": "input",
              "address": "0x1300",
              "type": "power",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "Q",
              "reg_type": "input",
              "address": "0x1308",
              "type": "value",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "S",
              "reg_type": "input",
              "address": "0x1310",
              "type": "value",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "PF",
              "reg_type": "input",
              "address": "0x10bc",
              "type": "value",
              "format": "s16",
              "scale": 0.001,
              "round_to": 0.01
            },
            {
              "name": "SV",
              "reg_type": "input",
              "address": "0x1098",
              "type": "value",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "N",
              "reg_type": "input",
              "address": "0x1580",
              "type": "value",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "Pfund",
              "reg_type": "input",
              "address": "0x1400",
              "type": "value",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "Pharm",
              "reg_type": "input",
              "address": "0x1408",
              "type": "value",
              "format": "s32",
              "scale": 6.10352e-05,
              "round_to": 0.01
            },
            {
              "name": "AP energy",
              "reg_type": "input",
              "address": "0x1200",
              "type": "power_consumption",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "AN energy",
              "reg_type": "input",
              "address": "0x1210",
              "type": "power_consumption",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "RP energy",
              "reg_type": "input",
              "address": "0x1220",
              "type": "value",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "RN energy",
              "reg_type": "input",
              "address": "0x1230",
              "type": "value",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "S energy",
              "reg_type": "input",
              "address": "0x1240",
              "type": "value",
              "format": "u64",
              "scale": 3.125e-05,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "NP energy",
              "reg_type": "input",
              "address": "0x1502",
              "type": "value",
              "format": "u32",
              "scale": 0.0182044,
              "round_to": 0.0001,
              "word_order": "little_endian"
            },
            {
              "name": "NN energy",
              "reg_type": "input",
              "address": "0x1512",
              "type": "value",
              "format": "u32",
              "scale": 0.0182044,
              "round_to": 0.0001,
              "word_order": "little_endian"
            }
          ]
        }
      }
    ]
  }
}
